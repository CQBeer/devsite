<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Develope Module | NULS</title>
    <meta name="description" content="Make Blockchain Easy">
    <link rel="icon" href="/icon.png">
    
    <link rel="preload" href="/assets/css/0.styles.a1300348.css" as="style"><link rel="preload" href="/assets/js/app.ff9a8a4d.js" as="script"><link rel="preload" href="/assets/js/22.2df5d9a8.js" as="script"><link rel="prefetch" href="/assets/js/10.908a54c6.js"><link rel="prefetch" href="/assets/js/11.bd34c7d0.js"><link rel="prefetch" href="/assets/js/12.7358d934.js"><link rel="prefetch" href="/assets/js/13.5026de6e.js"><link rel="prefetch" href="/assets/js/14.f289b167.js"><link rel="prefetch" href="/assets/js/15.05b7e739.js"><link rel="prefetch" href="/assets/js/16.52f3bc5b.js"><link rel="prefetch" href="/assets/js/17.c824039f.js"><link rel="prefetch" href="/assets/js/18.840f0d14.js"><link rel="prefetch" href="/assets/js/19.4259104e.js"><link rel="prefetch" href="/assets/js/2.aef32cc5.js"><link rel="prefetch" href="/assets/js/20.ea39dca9.js"><link rel="prefetch" href="/assets/js/21.60438a15.js"><link rel="prefetch" href="/assets/js/23.89e04919.js"><link rel="prefetch" href="/assets/js/24.fba1f5f1.js"><link rel="prefetch" href="/assets/js/25.ea30f1c1.js"><link rel="prefetch" href="/assets/js/26.e8313c3f.js"><link rel="prefetch" href="/assets/js/27.738174e6.js"><link rel="prefetch" href="/assets/js/28.618f6f9e.js"><link rel="prefetch" href="/assets/js/29.bf3f3d03.js"><link rel="prefetch" href="/assets/js/3.90ed52c4.js"><link rel="prefetch" href="/assets/js/30.7ee5ad23.js"><link rel="prefetch" href="/assets/js/31.aa2cb318.js"><link rel="prefetch" href="/assets/js/32.3bce5208.js"><link rel="prefetch" href="/assets/js/33.655692f4.js"><link rel="prefetch" href="/assets/js/34.e201f85a.js"><link rel="prefetch" href="/assets/js/35.49c826cd.js"><link rel="prefetch" href="/assets/js/36.aff2112c.js"><link rel="prefetch" href="/assets/js/37.a567dafb.js"><link rel="prefetch" href="/assets/js/38.e86114b0.js"><link rel="prefetch" href="/assets/js/39.9dcd0d14.js"><link rel="prefetch" href="/assets/js/4.b35bce24.js"><link rel="prefetch" href="/assets/js/40.13015d8a.js"><link rel="prefetch" href="/assets/js/41.c926201b.js"><link rel="prefetch" href="/assets/js/42.ecb5fdc6.js"><link rel="prefetch" href="/assets/js/43.7e354ec4.js"><link rel="prefetch" href="/assets/js/44.f0d1ac2d.js"><link rel="prefetch" href="/assets/js/45.c632aa6a.js"><link rel="prefetch" href="/assets/js/46.0d463c3f.js"><link rel="prefetch" href="/assets/js/47.6ddd38f2.js"><link rel="prefetch" href="/assets/js/48.357d6f47.js"><link rel="prefetch" href="/assets/js/49.fac67488.js"><link rel="prefetch" href="/assets/js/5.f56fea99.js"><link rel="prefetch" href="/assets/js/50.ca18e13b.js"><link rel="prefetch" href="/assets/js/51.af09458b.js"><link rel="prefetch" href="/assets/js/52.bdad80b6.js"><link rel="prefetch" href="/assets/js/53.4ea93e0d.js"><link rel="prefetch" href="/assets/js/54.991c7cc2.js"><link rel="prefetch" href="/assets/js/55.1652a0e9.js"><link rel="prefetch" href="/assets/js/56.f8b88d2c.js"><link rel="prefetch" href="/assets/js/57.62e70612.js"><link rel="prefetch" href="/assets/js/58.ee2b8a2d.js"><link rel="prefetch" href="/assets/js/59.3a65d3ab.js"><link rel="prefetch" href="/assets/js/6.0641bc7b.js"><link rel="prefetch" href="/assets/js/60.071e1c19.js"><link rel="prefetch" href="/assets/js/61.ae93856d.js"><link rel="prefetch" href="/assets/js/62.4c39b766.js"><link rel="prefetch" href="/assets/js/63.08582e36.js"><link rel="prefetch" href="/assets/js/64.b43e00d2.js"><link rel="prefetch" href="/assets/js/65.742f43b6.js"><link rel="prefetch" href="/assets/js/66.ba7db902.js"><link rel="prefetch" href="/assets/js/67.6b40c8a4.js"><link rel="prefetch" href="/assets/js/68.6f7619d2.js"><link rel="prefetch" href="/assets/js/69.143d9fd0.js"><link rel="prefetch" href="/assets/js/7.4661d4f9.js"><link rel="prefetch" href="/assets/js/8.b652d739.js"><link rel="prefetch" href="/assets/js/9.fb483f76.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a1300348.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">NULS</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/Docs/" class="nav-link router-link-active">Develope</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Docs/developeModule.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite/tree/dev" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/Docs/" class="nav-link router-link-active">Develope</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Docs/developeModule.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite/tree/dev" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Design</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Docs/quickStart.html" class="sidebar-link">Quick Start</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>API</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Docs/quickStart.html" class="sidebar-link">Quick Start</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>ChainBox</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Docs/developeModule.html" class="active sidebar-link">Develope Module</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Docs/developeModule.html#template-file-structure" class="sidebar-link">Template file structure</a></li><li class="sidebar-sub-header"><a href="/Docs/developeModule.html#using-templates" class="sidebar-link">Using templates</a></li><li class="sidebar-sub-header"><a href="/Docs/developeModule.html#introduction-to-source-code-structure" class="sidebar-link">Introduction to source code structure</a></li><li class="sidebar-sub-header"><a href="/Docs/developeModule.html#implementation-ideas-of-business-modules" class="sidebar-link">Implementation ideas of business modules</a></li><li class="sidebar-sub-header"><a href="/Docs/developeModule.html#building-module-program" class="sidebar-link">Building module program</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Docs/developeModule.html#contribution" class="sidebar-link">Contribution</a></li><li class="sidebar-sub-header"><a href="/Docs/developeModule.html#license" class="sidebar-link">License</a></li><li class="sidebar-sub-header"><a href="/Docs/developeModule.html#community" class="sidebar-link">Community</a></li></ul></li></ul></li><li><a href="/Docs/encryptedMessageDesign.html" class="sidebar-link">Encrypted Message Module Demo</a></li><li><a href="/Docs/chainBoxGuide.html" class="sidebar-link">NULS ChainBox</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Smart Contract</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Docs/smartContractManual.html" class="sidebar-link">Development Manual</a></li><li><a href="/Docs/mavenPackage.html" class="sidebar-link">Development Tool</a></li><li><a href="/Docs/NRC-20TokenStandard.html" class="sidebar-link">NRC-20</a></li><li><a href="/Docs/NRC-721.html" class="sidebar-link">NRC-721</a></li><li><a href="/Docs/smartContractFee.html" class="sidebar-link">Smart Contract Fees</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>SDK</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Docs/quickStart.html" class="sidebar-link">Quick Start</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="develope-module"><a href="#develope-module" aria-hidden="true" class="header-anchor">#</a> Develope Module</h1> <blockquote><p>This docs is Java version</p></blockquote> <p>Nuls-module-java-template combined with NULS-ChainBox can help you quickly build blockchain business modules implemented in Java. Two core packages of nuls-core-rpc and nuls-base under io.nuls.v2 are imported in the template. The former implements the basic communication protocol with the module, and the latter includes the basic data structure and utility class of the block.</p> <h2 id="template-file-structure"><a href="#template-file-structure" aria-hidden="true" class="header-anchor">#</a> Template file structure</h2> <div class="language- extra-class"><pre class="language-text"><code>.
├── README.md   
├── build          # build related scripts   
├── init.sh        # initialize project scripts
├── module.ncf     # configuration file of the module
├── package        # build scripts
├── pom.xml        # maven pom.xml
└── src            # java source code
</code></pre></div><h2 id="using-templates"><a href="#using-templates" aria-hidden="true" class="header-anchor">#</a> Using templates</h2> <p>Download this template using the <code>tools</code> script in the NULS-ChainBox project.</p> <div class="language- extra-class"><pre class="language-text"><code>Tool-t Java demo  # demo is a custom module name
</code></pre></div><p>When the download is complete, <code>tools</code> will automatically replace the module names defined in pom.xml and module.ncf with <code>demo</code>. Import the project in the way of importing Maven projects using common Java development tools.</p> <h2 id="introduction-to-source-code-structure"><a href="#introduction-to-source-code-structure" aria-hidden="true" class="header-anchor">#</a> Introduction to source code structure</h2> <div class="language- extra-class"><pre class="language-text"><code>.
└── io
    └── nuls
        ├── MyModule.java    # the bootstrap class of the module that needs to be implemented, including transaction registration, data table initialization, web service and other preparation work.
        ├── NulsModuleBootstrap.java  # the bootstrap class of the module, usually without modification
        ├── Utils.java  # utility class with the function of transaction signature
        ├── rpctools # rpc toolkit
        │ ├── AccountTools.java  # utility functions related to account module
        │ ├── CallRpc.java
        │ ├── LegderTools.java  # utility functions related to ledger module
        │ ├── TransactionTools.java # utility functions related to transaction module
        │ └── vo # data object package
        │ ├── Account.java
        │ ├── AccountBalance.java
        │ └── TxRegisterDetail.java
        └── txhandler # package of transaction callback functions
            ├── TransactionDispatcher.java # dispatcher of transaction callback functions
            ├── TransactionProcessor.java # interface definition of transaction callback functions
            └── TxProcessorImpl.java # interface implementation of transaction callback functions, requiring developers to implement
</code></pre></div><h2 id="implementation-ideas-of-business-modules"><a href="#implementation-ideas-of-business-modules" aria-hidden="true" class="header-anchor">#</a> Implementation ideas of business modules</h2> <ol><li>Define the transaction type and invoke the TransactionTools.registerTx method to complete the transaction registration upon module starting (MyModule.startModule).</li> <li>Implement the entry point of transaction creation, assemble the transaction, and store the business data in txData. Invoke the TransactionTools.registerTx.newTx method to create the transaction in the transaction module.</li> <li>Implement the TxProcessorImpl.validate method to complete the verification code of transaction business.</li> <li>Implement the TxProcessorImpl.commit method to complete the data storage code of transaction business.</li> <li>Implement the TxProcessorImpl.rollback method to complete the data rollback code of transaction business.</li> <li>Implement the application scenario code of business data.</li></ol> <h2 id="building-module-program"><a href="#building-module-program" aria-hidden="true" class="header-anchor">#</a> Building module program</h2> <p>The <code>package</code> script will help you build the code, and the <code>package</code> fulfills the requirements of the NULS-ChainBox integrating modules to the NULS2.0 runtime environment. The packaged jar file, startup script, stop script, and Module.ncf will be built into the <code>outer</code> folder.</p> <div class="language- extra-class"><pre class="language-text"><code>./package
============ PACKAGE FINISH 🍺🍺🍺🎉🎉🎉 ===============
</code></pre></div><h3 id="contribution"><a href="#contribution" aria-hidden="true" class="header-anchor">#</a> Contribution</h3> <p>Contributions to NULS are welcomed! We sincerely invite developers who experienced in blockchain field to join in NULS technology community. Details: s: https://nuls.communimunity/d/9-recruitment-of-community-developers To be a great community, Nuls needs to welcome developers from all walks of life, with different backgrounds, and with a wide range of experience.</p> <h3 id="license"><a href="#license" aria-hidden="true" class="header-anchor">#</a> License</h3> <p>Nuls is released under the <a href="http://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer">MIT<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> license.
Modules added in the future may be release under different license, will specified in the module library path.</p> <h3 id="community"><a href="#community" aria-hidden="true" class="header-anchor">#</a> Community</h3> <ul><li><a href="https://nuls.io/" target="_blank" rel="noopener noreferrer">nuls.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://twitter.com/nulsservice" target="_blank" rel="noopener noreferrer">@twitter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.facebook.com/nulscommunity/" target="_blank" rel="noopener noreferrer">facebook<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.youtube.com/channel/UC8FkLeF4QW6Undm4B3InN1Q?view_as=subscriber" target="_blank" rel="noopener noreferrer">YouTube channel<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Telegram <a href="https://t.me/Nulsio" target="_blank" rel="noopener noreferrer">NULS Community<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Telegram <a href="https://t.me/Nulscn" target="_blank" rel="noopener noreferrer">NULS Chinese Community<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h4 id><a href="#" aria-hidden="true" class="header-anchor">#</a></h4></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/nuls-io/devsite/tree/dev/edit/dev/docs/Docs/developeModule.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/26/2019, 5:19:15 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/Docs/quickStart.html" class="prev">
          Quick Start
        </a></span> <span class="next"><a href="/Docs/encryptedMessageDesign.html">
          Encrypted Message Module Demo
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.ff9a8a4d.js" defer></script><script src="/assets/js/22.2df5d9a8.js" defer></script>
  </body>
</html>
