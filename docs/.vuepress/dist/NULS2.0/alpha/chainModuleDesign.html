<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chain management module design document | NULS</title>
    <meta name="description" content="NULS">
    <link rel="icon" href="/icon.png">
    
    <link rel="preload" href="/assets/css/0.styles.3751d6d5.css" as="style"><link rel="preload" href="/assets/js/app.af924067.js" as="script"><link rel="preload" href="/assets/js/34.74e27ef0.js" as="script"><link rel="prefetch" href="/assets/js/10.18c68eac.js"><link rel="prefetch" href="/assets/js/100.1e5950e6.js"><link rel="prefetch" href="/assets/js/101.ec61cc3b.js"><link rel="prefetch" href="/assets/js/102.714f460f.js"><link rel="prefetch" href="/assets/js/103.bfb17485.js"><link rel="prefetch" href="/assets/js/104.31ed652e.js"><link rel="prefetch" href="/assets/js/105.b2a65d63.js"><link rel="prefetch" href="/assets/js/106.0fb9c136.js"><link rel="prefetch" href="/assets/js/107.654c0826.js"><link rel="prefetch" href="/assets/js/108.6cdf40cd.js"><link rel="prefetch" href="/assets/js/109.d523e3ed.js"><link rel="prefetch" href="/assets/js/11.ed9f9081.js"><link rel="prefetch" href="/assets/js/110.e3dd23c8.js"><link rel="prefetch" href="/assets/js/111.c1eb63c7.js"><link rel="prefetch" href="/assets/js/112.c2e7535c.js"><link rel="prefetch" href="/assets/js/113.01d531d0.js"><link rel="prefetch" href="/assets/js/114.f48cbd1b.js"><link rel="prefetch" href="/assets/js/115.d24ea321.js"><link rel="prefetch" href="/assets/js/116.7cf1209b.js"><link rel="prefetch" href="/assets/js/117.c7a5a31d.js"><link rel="prefetch" href="/assets/js/118.d313dcce.js"><link rel="prefetch" href="/assets/js/119.866797f2.js"><link rel="prefetch" href="/assets/js/12.9499b048.js"><link rel="prefetch" href="/assets/js/120.8aeaf5c5.js"><link rel="prefetch" href="/assets/js/121.ab20734b.js"><link rel="prefetch" href="/assets/js/122.76115daf.js"><link rel="prefetch" href="/assets/js/123.f4fecdaa.js"><link rel="prefetch" href="/assets/js/124.afcd0111.js"><link rel="prefetch" href="/assets/js/125.c0dd25bc.js"><link rel="prefetch" href="/assets/js/126.dc049b64.js"><link rel="prefetch" href="/assets/js/127.9b20344b.js"><link rel="prefetch" href="/assets/js/128.b1676c11.js"><link rel="prefetch" href="/assets/js/129.cf7ff088.js"><link rel="prefetch" href="/assets/js/13.1b5b41f2.js"><link rel="prefetch" href="/assets/js/130.4c55216a.js"><link rel="prefetch" href="/assets/js/131.17a1610f.js"><link rel="prefetch" href="/assets/js/132.6d35b277.js"><link rel="prefetch" href="/assets/js/133.5c6ace8f.js"><link rel="prefetch" href="/assets/js/134.adc3aec7.js"><link rel="prefetch" href="/assets/js/135.9570ffcd.js"><link rel="prefetch" href="/assets/js/136.94f34467.js"><link rel="prefetch" href="/assets/js/137.08e7f039.js"><link rel="prefetch" href="/assets/js/138.abf7e9bd.js"><link rel="prefetch" href="/assets/js/139.89f24e66.js"><link rel="prefetch" href="/assets/js/14.a117362f.js"><link rel="prefetch" href="/assets/js/140.e6f8b514.js"><link rel="prefetch" href="/assets/js/141.e7387218.js"><link rel="prefetch" href="/assets/js/142.537b916c.js"><link rel="prefetch" href="/assets/js/143.aa57a142.js"><link rel="prefetch" href="/assets/js/144.e81588f3.js"><link rel="prefetch" href="/assets/js/145.c006214e.js"><link rel="prefetch" href="/assets/js/146.bf0bce38.js"><link rel="prefetch" href="/assets/js/147.bf8fb102.js"><link rel="prefetch" href="/assets/js/148.9247b58a.js"><link rel="prefetch" href="/assets/js/149.5108d9df.js"><link rel="prefetch" href="/assets/js/15.4d0137e4.js"><link rel="prefetch" href="/assets/js/150.7a9143ed.js"><link rel="prefetch" href="/assets/js/151.20ec1df8.js"><link rel="prefetch" href="/assets/js/152.557985e9.js"><link rel="prefetch" href="/assets/js/153.b677d994.js"><link rel="prefetch" href="/assets/js/154.8eae3dba.js"><link rel="prefetch" href="/assets/js/155.1e5ee1b8.js"><link rel="prefetch" href="/assets/js/156.343285d0.js"><link rel="prefetch" href="/assets/js/157.734685d0.js"><link rel="prefetch" href="/assets/js/158.a5e004d1.js"><link rel="prefetch" href="/assets/js/159.e756229c.js"><link rel="prefetch" href="/assets/js/16.7b01515a.js"><link rel="prefetch" href="/assets/js/160.a082e6bf.js"><link rel="prefetch" href="/assets/js/161.e1fbbb2b.js"><link rel="prefetch" href="/assets/js/162.cd2ec2fe.js"><link rel="prefetch" href="/assets/js/163.401cb3a4.js"><link rel="prefetch" href="/assets/js/164.83fdaeb3.js"><link rel="prefetch" href="/assets/js/165.28ff5f6d.js"><link rel="prefetch" href="/assets/js/166.1d7b2d49.js"><link rel="prefetch" href="/assets/js/167.fc638da4.js"><link rel="prefetch" href="/assets/js/168.87a752b8.js"><link rel="prefetch" href="/assets/js/169.57479665.js"><link rel="prefetch" href="/assets/js/17.6d7dfbaa.js"><link rel="prefetch" href="/assets/js/170.328e6d76.js"><link rel="prefetch" href="/assets/js/171.915b4faa.js"><link rel="prefetch" href="/assets/js/172.47c0ddca.js"><link rel="prefetch" href="/assets/js/173.9d44f26b.js"><link rel="prefetch" href="/assets/js/174.5e41dedf.js"><link rel="prefetch" href="/assets/js/175.c45dc2e2.js"><link rel="prefetch" href="/assets/js/176.603141f4.js"><link rel="prefetch" href="/assets/js/177.63dcc5fb.js"><link rel="prefetch" href="/assets/js/178.b56dbf8c.js"><link rel="prefetch" href="/assets/js/179.83dd1a4c.js"><link rel="prefetch" href="/assets/js/18.6031714a.js"><link rel="prefetch" href="/assets/js/180.7b9f2434.js"><link rel="prefetch" href="/assets/js/181.831ae393.js"><link rel="prefetch" href="/assets/js/182.4db1a16d.js"><link rel="prefetch" href="/assets/js/183.a9ddc7d8.js"><link rel="prefetch" href="/assets/js/184.6c3dded5.js"><link rel="prefetch" href="/assets/js/185.b9b8c0b3.js"><link rel="prefetch" href="/assets/js/186.ea0e6453.js"><link rel="prefetch" href="/assets/js/187.ddd07849.js"><link rel="prefetch" href="/assets/js/188.4cf99e7b.js"><link rel="prefetch" href="/assets/js/189.9831d9b2.js"><link rel="prefetch" href="/assets/js/19.99059c8a.js"><link rel="prefetch" href="/assets/js/190.07bb4583.js"><link rel="prefetch" href="/assets/js/191.a980569d.js"><link rel="prefetch" href="/assets/js/192.e63ed356.js"><link rel="prefetch" href="/assets/js/193.c834f9c4.js"><link rel="prefetch" href="/assets/js/194.01ba5cc8.js"><link rel="prefetch" href="/assets/js/195.1cbb062a.js"><link rel="prefetch" href="/assets/js/196.3bd7a397.js"><link rel="prefetch" href="/assets/js/197.b0387864.js"><link rel="prefetch" href="/assets/js/198.341aabcb.js"><link rel="prefetch" href="/assets/js/199.5f7f3387.js"><link rel="prefetch" href="/assets/js/2.cc7febb1.js"><link rel="prefetch" href="/assets/js/20.a2f32098.js"><link rel="prefetch" href="/assets/js/200.0fe4c036.js"><link rel="prefetch" href="/assets/js/201.9cdce6ff.js"><link rel="prefetch" href="/assets/js/202.ff78470d.js"><link rel="prefetch" href="/assets/js/203.8dff672b.js"><link rel="prefetch" href="/assets/js/21.3a5a3d61.js"><link rel="prefetch" href="/assets/js/22.8886c7e3.js"><link rel="prefetch" href="/assets/js/23.824c724b.js"><link rel="prefetch" href="/assets/js/24.373cf0ba.js"><link rel="prefetch" href="/assets/js/25.e03b3fbe.js"><link rel="prefetch" href="/assets/js/26.458fc308.js"><link rel="prefetch" href="/assets/js/27.0715db11.js"><link rel="prefetch" href="/assets/js/28.19752a9c.js"><link rel="prefetch" href="/assets/js/29.908b3be4.js"><link rel="prefetch" href="/assets/js/3.bc2745a1.js"><link rel="prefetch" href="/assets/js/30.d6be6574.js"><link rel="prefetch" href="/assets/js/31.aa92f18e.js"><link rel="prefetch" href="/assets/js/32.ed28a1f1.js"><link rel="prefetch" href="/assets/js/33.1424b6d8.js"><link rel="prefetch" href="/assets/js/35.933bcfde.js"><link rel="prefetch" href="/assets/js/36.b04f0887.js"><link rel="prefetch" href="/assets/js/37.dd9a8a5e.js"><link rel="prefetch" href="/assets/js/38.7182d3fd.js"><link rel="prefetch" href="/assets/js/39.1f23ab03.js"><link rel="prefetch" href="/assets/js/4.fe278ee2.js"><link rel="prefetch" href="/assets/js/40.e6429110.js"><link rel="prefetch" href="/assets/js/41.e28d2400.js"><link rel="prefetch" href="/assets/js/42.d71f9399.js"><link rel="prefetch" href="/assets/js/43.91552865.js"><link rel="prefetch" href="/assets/js/44.9a6a71a6.js"><link rel="prefetch" href="/assets/js/45.21a21f6e.js"><link rel="prefetch" href="/assets/js/46.672c63e6.js"><link rel="prefetch" href="/assets/js/47.d3762a03.js"><link rel="prefetch" href="/assets/js/48.c7ee1d97.js"><link rel="prefetch" href="/assets/js/49.04450f16.js"><link rel="prefetch" href="/assets/js/5.36a1f97d.js"><link rel="prefetch" href="/assets/js/50.c88b0ec6.js"><link rel="prefetch" href="/assets/js/51.7b4f991e.js"><link rel="prefetch" href="/assets/js/52.51acdd5e.js"><link rel="prefetch" href="/assets/js/53.ec7916b8.js"><link rel="prefetch" href="/assets/js/54.9e943562.js"><link rel="prefetch" href="/assets/js/55.f67e89c8.js"><link rel="prefetch" href="/assets/js/56.f3264cce.js"><link rel="prefetch" href="/assets/js/57.b4f23a6f.js"><link rel="prefetch" href="/assets/js/58.a34cc362.js"><link rel="prefetch" href="/assets/js/59.81750628.js"><link rel="prefetch" href="/assets/js/6.f0257001.js"><link rel="prefetch" href="/assets/js/60.154b8932.js"><link rel="prefetch" href="/assets/js/61.9b1602a8.js"><link rel="prefetch" href="/assets/js/62.0a49a22d.js"><link rel="prefetch" href="/assets/js/63.98a55a76.js"><link rel="prefetch" href="/assets/js/64.2bcb51d2.js"><link rel="prefetch" href="/assets/js/65.4c0c58c8.js"><link rel="prefetch" href="/assets/js/66.df33b008.js"><link rel="prefetch" href="/assets/js/67.57a2a1be.js"><link rel="prefetch" href="/assets/js/68.bad5e573.js"><link rel="prefetch" href="/assets/js/69.60347b44.js"><link rel="prefetch" href="/assets/js/7.d76f7444.js"><link rel="prefetch" href="/assets/js/70.311b44b8.js"><link rel="prefetch" href="/assets/js/71.83e0120a.js"><link rel="prefetch" href="/assets/js/72.92fc707e.js"><link rel="prefetch" href="/assets/js/73.ddcdaf4e.js"><link rel="prefetch" href="/assets/js/74.e61314d1.js"><link rel="prefetch" href="/assets/js/75.f403a927.js"><link rel="prefetch" href="/assets/js/76.63048a8a.js"><link rel="prefetch" href="/assets/js/77.b09595be.js"><link rel="prefetch" href="/assets/js/78.82b3c1f2.js"><link rel="prefetch" href="/assets/js/79.76b99451.js"><link rel="prefetch" href="/assets/js/8.e9e90edf.js"><link rel="prefetch" href="/assets/js/80.1a5aa1c9.js"><link rel="prefetch" href="/assets/js/81.fd3c1cbb.js"><link rel="prefetch" href="/assets/js/82.a4cf52f9.js"><link rel="prefetch" href="/assets/js/83.f420fc1c.js"><link rel="prefetch" href="/assets/js/84.056c02c1.js"><link rel="prefetch" href="/assets/js/85.2514c295.js"><link rel="prefetch" href="/assets/js/86.b81bc23a.js"><link rel="prefetch" href="/assets/js/87.376a6e56.js"><link rel="prefetch" href="/assets/js/88.5bf2af81.js"><link rel="prefetch" href="/assets/js/89.101bb8fc.js"><link rel="prefetch" href="/assets/js/9.32517bc9.js"><link rel="prefetch" href="/assets/js/90.7631902f.js"><link rel="prefetch" href="/assets/js/91.ac2783b8.js"><link rel="prefetch" href="/assets/js/92.deb816b2.js"><link rel="prefetch" href="/assets/js/93.bab670dd.js"><link rel="prefetch" href="/assets/js/94.49bc0751.js"><link rel="prefetch" href="/assets/js/95.63256329.js"><link rel="prefetch" href="/assets/js/96.1dadeb3c.js"><link rel="prefetch" href="/assets/js/97.377e1c92.js"><link rel="prefetch" href="/assets/js/98.ca3606eb.js"><link rel="prefetch" href="/assets/js/99.9a060e48.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3751d6d5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">NULS</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/learn/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/NULS1.0/" class="nav-link">NULS1.0</a></div><div class="nav-item"><a href="/NULS2.0/" class="nav-link router-link-active">NULS2.0</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NULS2.0/alpha/chainModuleDesign.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/learn/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/NULS1.0/" class="nav-link">NULS1.0</a></div><div class="nav-item"><a href="/NULS2.0/" class="nav-link router-link-active">NULS2.0</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NULS2.0/alpha/chainModuleDesign.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Alpha</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/NULS2.0/quickStart.html" class="sidebar-link">Quick Start</a></li><li><a href="/NULS2.0/packageGeneration.html" class="sidebar-link">Package Generation</a></li><li><a href="/NULS2.0/developModule.html" class="sidebar-link">Develop Business Modules</a></li><li><a href="/NULS2.0/linuxTutorial.html" class="sidebar-link">Linux CLI Manual</a></li><li><a href="/NULS2.0/howToUseNulsBuildChain.html" class="sidebar-link">Build Chain</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Smart Contract</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/NULS2.0/startSmartContract.html" class="sidebar-link">Quick Start</a></li><li><a href="/NULS2.0/developerManual.html" class="sidebar-link">Development Manual</a></li><li><a href="/NULS2.0/ideaPlugin.html" class="sidebar-link">IDEA Plugin</a></li><li><a href="/NULS2.0/NRC-20TokenStandard.html" class="sidebar-link">NRC-20 Token Standard</a></li><li><a href="/NULS2.0/smartContractFee.html" class="sidebar-link">Service Charge</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="chain-management-module-design-document"><a href="#chain-management-module-design-document" aria-hidden="true" class="header-anchor">#</a> Chain management module design document</h1> <p>[TOC]</p> <h2 id="_1、general-description"><a href="#_1、general-description" aria-hidden="true" class="header-anchor">#</a> 1、General description</h2> <h3 id="_1-1-module-overview"><a href="#_1-1-module-overview" aria-hidden="true" class="header-anchor">#</a> 1.1 Module overview</h3> <h4 id="_1-1-1-why-do-you-have-a-chain-management-module"><a href="#_1-1-1-why-do-you-have-a-chain-management-module" aria-hidden="true" class="header-anchor">#</a> 1.1.1 Why do you have a Chain Management module</h4> <p>In NULS 1.0, there is only one chain (NULS main network), so no chain management module is required.</p> <p>In NULS 2.0, the NULS main network can register other friend information, including:</p> <ul><li>Chains in the NULS ecosystem: Derived from the same set of code as the NULS main network.</li> <li>Other chains: Bitcoin, Ethereum, etc.</li></ul> <p>The Chain Management module is used to manage all the friends that join the NULS main network.</p> <p>Glossary：</p> <ul><li>NULS main network: Unlike NULS 1.0, it is another chain that runs independently, also known as NULS 2.0.&quot;Chain Management&quot; is one of the modules of the NULS main network.</li> <li>Friends Chain: Other chains registered on the NULS main website.</li></ul> <p>Hypothesis 1: Friendship A, which owns asset A</p> <p>Hypothesis 2: Friendship B, which owns asset B</p> <ul><li>Cross-chain trading：
<ul><li>Friend chain A transfers asset A to friend chain B</li> <li>Friendship B internal transfer of assets A</li> <li>Friend Chain B turns asset A back to friend chain A</li> <li>Friendship B transfers asset A to other friends (C, D, etc.)</li></ul></li> <li>Non-cross-chain trading：
<ul><li>Friend Chain A Internal Transfer Asset A</li> <li>Friendship B internal transfer of assets B</li></ul></li></ul> <p>Remarks: Regardless of the assets in the chain or the assets outside the chain, as long as the assets are traded across the chain, the main network needs to be confirmed.</p> <h4 id="_1-1-2-what-does-chain-management-do"><a href="#_1-1-2-what-does-chain-management-do" aria-hidden="true" class="header-anchor">#</a> 1.1.2  What does &quot;Chain Management&quot; do?</h4> <p>The Chain Management module is used to manage basic information about the chain that joins the NULS main network, including:</p> <ul><li>Sign up for a new friend chain</li> <li>Destroy existing friendship chains</li> <li>Query friend information</li> <li>Increase the asset type for a specific friend chain</li> <li>Destroy asset type for a specific friend chain</li> <li>Cross-chain asset verification</li></ul> <h4 id="_1-1-3-the-positioning-of-chain-management-in-the-system"><a href="#_1-1-3-the-positioning-of-chain-management-in-the-system" aria-hidden="true" class="header-anchor">#</a> 1.1.3  The Positioning of &quot;Chain Management&quot; in the System</h4> <p>&quot;chain management&quot;  dependent module：</p> <ul><li><p>Kernel module</p></li> <li><p>Network module</p></li> <li><p>Transaction management module</p></li> <li><p>Account module</p> <p>&quot;chain management&quot; weakly dependent module：</p></li> <li><p>Event bus module</p></li></ul> <h3 id="_1-2-module-internal-architecture-diagram"><a href="#_1-2-module-internal-architecture-diagram" aria-hidden="true" class="header-anchor">#</a> 1.2 Module internal architecture diagram</h3> <p><img src="/assets/img/architecture.784f3b18.png" alt></p> <h2 id="_2、feature-design"><a href="#_2、feature-design" aria-hidden="true" class="header-anchor">#</a> 2、feature design</h2> <h3 id="_2-1-functional-architecture-diagram"><a href="#_2-1-functional-architecture-diagram" aria-hidden="true" class="header-anchor">#</a> 2.1 Functional architecture diagram</h3> <p><img src="/assets/img/structure.2a58a4c4.png" alt></p> <h3 id="_2-2-module-service"><a href="#_2-2-module-service" aria-hidden="true" class="header-anchor">#</a> 2.2 Module service</h3> <h4 id="_2-2-1-sign-up-for-a-new-friend-chain"><a href="#_2-2-1-sign-up-for-a-new-friend-chain" aria-hidden="true" class="header-anchor">#</a> 2.2.1 Sign up for a new friend chain</h4> <ul><li><p>Function Description：</p> <p>he NULS main network will provide an entry (web page) through which you can register a new friend chain to the NULS main network.</p></li> <li><p>Process description</p> <p><img src="/assets/img/chainRegister.9111e337.png" alt></p></li></ul> <p>步骤描述：</p> <p>Step description:</p> <pre><code>1&gt; The user registers the registration chain information with the terminal and the asset information initialized with the chain.

2&gt; The chain management module performs the encapsulation of the chain transaction and sends it to the transaction module.
     During the period, you need to obtain the account balance and the transaction nonce value through the ledger module.
      And the seed node information of the cross-chain is obtained through the network module and returned to the user.

3&gt;The transaction module will perform a callback of the data check during the transaction process.

4&gt;The chain management module performs registration data submission through the transaction module callback interface of the “submission chain registration transaction”.

5&gt; The chain management module stores the data and sends the registration information to the network module.

6&gt; The registration chain requires 1000NULS, of which 20% is directly destroyed, 80% is used for mortgages, and is returned when assets are deleted.
</code></pre> <ul><li><p>Interface definition</p> <ul><li>Interface Description</li></ul> <p>​      Register friendchain information with the chain management module.</p> <p>​        method : cm_chainReg</p> <ul><li>Request example</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
        &quot;chainId&quot;: 152,
        &quot;chainName&quot;: &quot;nuls chain&quot;,
        &quot;addressType&quot;: &quot;1&quot;,
        &quot;magicNumber&quot;:454546,
        &quot;supportInflowAsset&quot;:&quot;1&quot;,
        &quot;minAvailableNodeNum&quot;:5,
        &quot;singleNodeMinConnectionNum&quot;:5,
        &quot;txConfirmedBlockNum&quot;:30,
        &quot;address&quot;:&quot;NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp&quot;,
        &quot;assetId&quot;:85,
        &quot;symbol&quot;:&quot;NULS&quot;,
        &quot;assetName&quot;:&quot;NULS CHAIN&quot;,
        &quot;initNumber&quot;:&quot;1000000000&quot;,
        &quot;decimalPlaces&quot;:8,
        &quot;password&quot;:&quot;xxxxxxxxxxxxx&quot;
        
}
</code></pre></div><ul><li>Request parameter description</li></ul> <table><thead><tr><th style="text-align:left">parameter</th> <th style="text-align:left">required</th> <th style="text-align:left">type</th> <th>description</th></tr></thead> <tbody><tr><td style="text-align:left">chainId</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Chain identification</td></tr> <tr><td style="text-align:left">chainName</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Chain name</td></tr> <tr><td style="text-align:left">addressType</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>The address type of the account created on the chain: 1 within the ecological 2 non-ecological</td></tr> <tr><td style="text-align:left">magicNumber</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Network magic parameter</td></tr> <tr><td style="text-align:left">minAvailableNodeNum</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Minimum number of available nodes</td></tr> <tr><td style="text-align:left">singleNodeConMinNodeNum</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Minimum number of single node connections</td></tr> <tr><td style="text-align:left">txConfirmBlockNum</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Transaction confirmation block number</td></tr> <tr><td style="text-align:left">symbol</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Asset symbol</td></tr> <tr><td style="text-align:left">assetName</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Asset Name</td></tr> <tr><td style="text-align:left">initNumber</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Initial value of assets</td></tr> <tr><td style="text-align:left">decimalPlaces</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Minimum asset separable digits</td></tr> <tr><td style="text-align:left">address</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Create the primary network address of the chain</td></tr> <tr><td style="text-align:left">password</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Password corresponding to the private key</td></tr></tbody></table> <ul><li><p>Return example</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format

</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
&quot;seeds&quot;:&quot;xxx.xxx.xxx.xxx:8001,xxx.xxx.xxx.xxx:8002&quot;
}

</code></pre></div></li> <li><p>Return field description</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>seeds</td> <td>String</td> <td>Seed node</td></tr></tbody></table></li></ul> <ul><li><p>Dependent service</p> <ul><li>Network management module</li> <li>Transaction management module, send transaction</li> <li>Account book module, get the book information</li></ul></li></ul> <h4 id="_2-2-2-log-out-of-existing-friends"><a href="#_2-2-2-log-out-of-existing-friends" aria-hidden="true" class="header-anchor">#</a> 2.2.2  Log out of existing friends</h4> <ul><li><p>Function Description：</p> <p>The NULS main network will provide an entry (web page) through which you can log out existing friends.</p></li> <li><p>Process description</p> <p><img src="/assets/img/chainDestroy.013520b1.png" alt></p> <p>1&gt;The chain is created with the asset, so the logout chain must be checked for assets. Only the last asset will be deleted and the chain will be logged off.</p> <p>2&gt;Conditions for determining whether to allow cancellation:</p></li></ul> <p>​        Assets and chains exist.</p> <p>​       There is only one last asset with the chain.</p> <p>​       Chain assets have n% of assets in their own main chain.</p> <p>3&gt;The chain management module performs the encapsulation of the chain transaction and sends it to the transaction module.</p> <p>​       During the period, you need to obtain the account balance and the transaction nonce value through    the ledger module.</p> <p>4&gt;The transaction module will perform a callback of the data check during the transaction process.</p> <p>5&gt;The chain management module performs the logout data submission through the transaction module callback interface of the “commit chain cancellation transaction”.</p> <p>6&gt;The chain management module stores the data and sends the registration information to the network module.</p> <p>7&gt;Deleting the chain with the cancelled assets will return 80% of the mortgage deposit.</p> <ul><li><p>Interface definition</p> <ul><li>Interface Description</li></ul> <p>​        Unregister the chain information to the chain management module (the asset logout interface is called because the chain is logged off with the last asset)</p> <p>​        method : cm_assetDisable</p> <ul><li>Request example</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
        &quot;chainId&quot;: 152,
        &quot;assetId&quot;: 45,
        &quot;address&quot;:&quot;NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp&quot;,
        &quot;password&quot;:&quot;xxxxxxxxxxxxx&quot;
        
}
</code></pre></div><ul><li>Request parameter description</li></ul> <table><thead><tr><th style="text-align:left">parameter</th> <th style="text-align:left">required</th> <th style="text-align:left">type</th> <th>description</th></tr></thead> <tbody><tr><td style="text-align:left">chainId</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Chain identification</td></tr> <tr><td style="text-align:left">assetId</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Asset id</td></tr> <tr><td style="text-align:left">address</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Create the main network account address of the chain</td></tr> <tr><td style="text-align:left">password</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Password corresponding to the private key</td></tr></tbody></table> <ul><li><p>Return example</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format

</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format

</code></pre></div></li> <li><p>Return field description</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td></td> <td></td> <td></td></tr></tbody></table></li> <li><p>Dependent service</p> <ul><li>Network management module</li> <li>Transaction management module, send transaction</li> <li>Ledger module, checkbook information</li></ul></li></ul> <h4 id="_2-2-3-increase-asset-information"><a href="#_2-2-3-increase-asset-information" aria-hidden="true" class="header-anchor">#</a> 2.2.3  Increase asset information</h4> <ul><li><p>Function Description：</p> <p>The NULS main network will provide an entry (web page) through which the selection chain and registered assets can be registered.</p></li> <li><p>Process description</p></li></ul> <p><img src="/assets/img/assetRegister.b72c7a79.png" alt></p> <p>Step description:
​    1&gt;The user enters the asset information through the terminal selection chain and the chain: judge whether the assets overlap.
​    2&gt; The chain management module performs the encapsulation of the chain transaction and sends it to the transaction module.
​        During the period, you need to obtain the account balance and the transaction nonce value through the ledger module.
​    3&gt; The transaction module will perform a callback of the data check during the transaction process.
​    4&gt; The chain management module performs registration data submission through the transaction module callback interface of “submit asset registration transaction”.
​    5&gt; Registered assets receive 1000NULS, of which 20% are directly destroyed, 80% are used for mortgage, and returned when assets are deleted.</p> <ul><li><p>Interface definition</p> <ul><li>Interface Description</li></ul> <p>​        Register asset information with the chain management module</p> <p>​        method : cm_assetReg</p> <ul><li>Request example</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
        &quot;chainId&quot;: 152,
        &quot;assetId&quot;:85,
        &quot;symbol&quot;:&quot;NULS&quot;,
        &quot;assetName&quot;:&quot;NULS&quot;,
        &quot;initNumber&quot;:&quot;1000000000&quot;,
        &quot;decimalPlaces&quot;:8,
         &quot;address&quot;:&quot;NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp&quot;,
        &quot;password&quot;:&quot;xxxxxxxxxxxxx&quot;
        
}
</code></pre></div><ul><li>请求参数说明</li></ul> <table><thead><tr><th style="text-align:left">parameter</th> <th style="text-align:left">required</th> <th style="text-align:left">type</th> <th>description</th></tr></thead> <tbody><tr><td style="text-align:left">chainId</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Chain identification</td></tr> <tr><td style="text-align:left">symbol</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Asset symbol</td></tr> <tr><td style="text-align:left">assetName</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Asset Name</td></tr> <tr><td style="text-align:left">initNumber</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Initial value of assets</td></tr> <tr><td style="text-align:left">decimalPlaces</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Minimum asset separable digits</td></tr> <tr><td style="text-align:left">address</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Create the primary network address of the chain</td></tr> <tr><td style="text-align:left">password</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Password corresponding to the private key</td></tr></tbody></table> <ul><li><p>Return example</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format
</code></pre></div></li> <li><p>Return field description</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td></td> <td></td> <td></td></tr></tbody></table></li> <li><p>Dependent service</p> <ul><li>Transaction management module, send transaction</li> <li>Account book module, get the book information</li></ul></li></ul> <h4 id="_2-2-4-deleting-an-asset-type-for-a-specific-friend-chain"><a href="#_2-2-4-deleting-an-asset-type-for-a-specific-friend-chain" aria-hidden="true" class="header-anchor">#</a> 2.2.4 Deleting an asset type for a specific friend chain</h4> <ul><li><p>Function Description：</p> <p>The NULS main network will provide an entry (web page) through which the assets can be destroyed for the specified friend chain.</p></li> <li><p>Process description</p> <p><img src="/assets/img/assetDestroy.62602f22.png" alt></p> <p>Step description:
1&gt; When there are multiple assets registered, the single asset is allowed to be written off. If there is only one asset, the asset is written off along with the chain.
2&gt; Conditions for determining whether to allow cancellation:
​     There are multiple assets in the chain.
​     Chain assets have n% of assets in their own main chain.
3&gt;The chain management module performs the encapsulation of the chain transaction and sends it to the transaction module.
​     During the period, you need to obtain the account balance and the transaction nonce value through the ledger module.
4&gt;The transaction module will perform a callback of the data check during the transaction process.
5&gt;The chain management module performs the logout data submission through the transaction module callback interface of the “commit chain cancellation transaction”.
6&gt;The cancellation of the assets will be refunded 80% of the mortgage deposit.</p></li> <li><p>Interface definition</p> <ul><li>Interface Description</li></ul> <p>​        Log out asset information to the chain management module</p> <p>​        method : cm_assetDisable</p> <ul><li>Request example</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
        &quot;chainId&quot;: 152,
        &quot;assetId&quot;: 45,
        &quot;address&quot;:&quot;NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp&quot;,
        &quot;password&quot;:&quot;xxxxxxxxxxxxx&quot;
        
}
</code></pre></div><ul><li>Request parameter description</li></ul> <table><thead><tr><th style="text-align:left">parameter</th> <th style="text-align:left">required</th> <th style="text-align:left">type</th> <th>description</th></tr></thead> <tbody><tr><td style="text-align:left">chainId</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Chain identification</td></tr> <tr><td style="text-align:left">assetId</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Asset id</td></tr> <tr><td style="text-align:left">address</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Create the main network account address of the chain</td></tr> <tr><td style="text-align:left">password</td> <td style="text-align:left">true</td> <td style="text-align:left">string</td> <td>Password corresponding to the private key</td></tr></tbody></table> <ul><li><p>Return example</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format

</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format

</code></pre></div></li> <li><p>Return field description</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td></td> <td></td> <td></td></tr></tbody></table> <ul><li><p>Dependent service</p> <ul><li>Transaction management module, send transaction</li> <li>Ledger module, checkbook information</li></ul></li></ul></li></ul> <h4 id="_2-2-5-chain-asset-verification-for-cross-chain-transactions"><a href="#_2-2-5-chain-asset-verification-for-cross-chain-transactions" aria-hidden="true" class="header-anchor">#</a> 2.2.5 Chain asset verification for cross-chain transactions</h4> <ul><li><p>Function Description：</p> <p>When the transaction module generates a cross-chain transaction, the interface is called to perform cross-chain asset verification.</p></li> <li><p>Process description</p> <p>1&gt;Check chain and assets are registered normally in the cross-chain module</p> <p>2&gt;Check if the amount of assets on the chain is overdrawn.</p> <p>3&gt;Verify that the asset status is normal.</p></li> <li><p>Interface definition</p> <ul><li>Interface Description</li></ul> <p>​      Submit verification to chain management when cross-chain assets are in circulation</p> <p>​        method : cm_assetCirculateValidator</p> <ul><li>Request example</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
        &quot;coinDatas&quot;: &quot;FFAABB214324&quot;       
}
</code></pre></div><ul><li>Request parameter description</li></ul> <table><thead><tr><th style="text-align:left">parameter</th> <th style="text-align:left">required</th> <th style="text-align:left">type</th> <th>description</th></tr></thead> <tbody><tr><td style="text-align:left">coinDatas</td> <td style="text-align:left">true</td> <td style="text-align:left">String</td> <td>Trading the HEX value of coindata</td></tr></tbody></table> <ul><li><p>Return example</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format

</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format

</code></pre></div></li> <li><p>Return field description</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td></td> <td></td> <td></td></tr></tbody></table></li> <li><p>Dependent service</p> <ul><li>Transaction management module, cross-chain transaction verification call</li></ul></li></ul> <h4 id="_2-2-6-chain-asset-submission-for-cross-chain-trading"><a href="#_2-2-6-chain-asset-submission-for-cross-chain-trading" aria-hidden="true" class="header-anchor">#</a> 2.2.6  Chain asset submission for cross-chain trading</h4> <ul><li><p>Function Description：</p> <p>When the transaction module generates a cross-chain transaction and verifies the pass, it calls the interface to submit the cross-chain asset.</p></li> <li><p>Process description</p> <p>Used to change chain assets and manage them for chain assets</p> <p>Direct call  cm_assetCirculateCommit</p></li> <li><p>Interface definition</p> <ul><li>Interface Description</li></ul> <p>​       When the cross-chain asset is circulated, the transaction can be submitted to the chain management when the verification is passed and the confirmation is submitted.</p> <p>​        method : cm_assetCirculateCommit</p> <ul><li>Request example</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
        &quot;coinDatas&quot;: &quot;FFAABB214324&quot;       
}
</code></pre></div><ul><li>Request parameter description</li></ul> <table><thead><tr><th style="text-align:left">parameter</th> <th style="text-align:left">required</th> <th style="text-align:left">type</th> <th>description</th></tr></thead> <tbody><tr><td style="text-align:left">coinDatas</td> <td style="text-align:left">true</td> <td style="text-align:left">String</td> <td>Trading the HEX value of coindata</td></tr></tbody></table> <ul><li><p>Return example</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format

</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format

</code></pre></div></li> <li><p>Return field description</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td></td> <td></td> <td></td></tr></tbody></table></li> <li><p>Dependent service</p> <ul><li>Transaction management module, cross-chain transaction call</li></ul></li></ul> <h4 id="_2-2-7-registration-of-chain-management-transaction-processing-functions"><a href="#_2-2-7-registration-of-chain-management-transaction-processing-functions" aria-hidden="true" class="header-anchor">#</a> 2.2.7 Registration of chain management transaction processing functions</h4> <ul><li><p>Function Description：</p> <p>When the module is started, registration of the transaction callback function is required, so that the transaction module performs callback processing when performing related type transaction processing.</p> <p>The registration function is divided into 4 categories: 1&gt; transaction verification 2&gt; transaction submission 3&gt; transaction rollback 4&gt; module batch transaction verification within a block</p></li> <li><p>Process description</p> <p>1&gt;Chain management module startup.</p> <p>2&gt;Determine whether the transaction module RPC call status is accessible.</p> <p>3&gt;Submit callback interface.</p></li> <li><p>Interface definition</p> <p>See the &quot;Registering a Transaction&quot; section in the Transaction Module Design Document.</p></li> <li><p>Dependent service</p> <ul><li>Transaction management module</li></ul></li></ul> <h4 id="_2-2-8-query-chain-information"><a href="#_2-2-8-query-chain-information" aria-hidden="true" class="header-anchor">#</a> 2.2.8  Query chain information</h4> <ul><li><p>Function Description：</p> <p>Query registration chain information</p></li> <li><p>Process description</p></li></ul> <p>​        NA</p> <ul><li><p>Interface definition</p> <ul><li>Interface Description</li></ul> <p>​        Query registration friend information</p> <p>​        method : cm_chain</p> <ul><li>Request example</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;chainId&quot;:4545 
}
</code></pre></div><ul><li>Request parameter description</li></ul> <table><thead><tr><th style="text-align:left">parameter</th> <th style="text-align:left">required</th> <th style="text-align:left">type</th> <th>description</th></tr></thead> <tbody><tr><td style="text-align:left">chainId</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Chain identification</td></tr></tbody></table> <ul><li><p>Return example</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format

</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
        &quot;chainId&quot;: 152,
        &quot;chainName&quot;: &quot;nuls chain&quot;,
        &quot;addressType&quot;: 1,
        &quot;magicNumber&quot;:454546,
        &quot;supportInflowAsset&quot;:&quot;1&quot;,
        &quot;minAvailableNodeNum&quot;:5,
        &quot;singleNodeMinConnectionNum&quot;:5,
        &quot;txConfirmedBlockNum&quot;:30,
        &quot;regAddress&quot;:&quot;NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp&quot;,
        &quot;regTxHash&quot;:&quot;FFFFF&quot;, 
        &quot;selfAssetKeyList&quot;:[&quot;1232_32&quot;,&quot;528_8&quot;],
        &quot;totalAssetKeyList&quot;:[&quot;1232_32&quot;,&quot;528_8&quot;],
        &quot;createTime&quot;:1212131
}
</code></pre></div></li> <li><p>Return field description</p></li></ul> <table><thead><tr><th style="text-align:left">parameter</th> <th style="text-align:left">type</th> <th>description</th></tr></thead> <tbody><tr><td style="text-align:left">chainId</td> <td style="text-align:left">int</td> <td>Chain identification</td></tr> <tr><td style="text-align:left">chainName</td> <td style="text-align:left">string</td> <td>Chain name</td></tr> <tr><td style="text-align:left">addressType</td> <td style="text-align:left">int</td> <td>The address type of the account created on the chain: 1 within the ecological 2 non-ecological</td></tr> <tr><td style="text-align:left">magicNumber</td> <td style="text-align:left">string</td> <td>Network magic parameter</td></tr> <tr><td style="text-align:left">minAvailableNodeNum</td> <td style="text-align:left">int</td> <td>Minimum number of available nodes</td></tr> <tr><td style="text-align:left">singleNodeConMinNodeNum</td> <td style="text-align:left">int</td> <td>Minimum number of single node connections</td></tr> <tr><td style="text-align:left">txConfirmBlockNum</td> <td style="text-align:left">int</td> <td>Transaction confirmation block number</td></tr> <tr><td style="text-align:left">regTxHash</td> <td style="text-align:left">string</td> <td>Transaction hash</td></tr> <tr><td style="text-align:left">regAddress</td> <td style="text-align:left">string</td> <td>Create the primary network address of the chain</td></tr> <tr><td style="text-align:left">selfAssetKeyList</td> <td style="text-align:left">list</td> <td>List of assets registered under the chain, asset key value combined by chainId_assetId</td></tr> <tr><td style="text-align:left">totalAssetKeyList</td> <td style="text-align:left">list</td> <td>List of assets circulating under the chain, asset key value combined by chainId_assetId</td></tr> <tr><td style="text-align:left">createTime</td> <td style="text-align:left">long</td> <td>Creation time</td></tr></tbody></table></li> <li><p>Dependent service</p> <p>NA</p></li></ul> <h4 id="_2-2-9-query-chain-asset-information"><a href="#_2-2-9-query-chain-asset-information" aria-hidden="true" class="header-anchor">#</a> 2.2.9  Query chain asset information</h4> <ul><li><p>Function Description：</p> <p>Query a chain asset information</p></li> <li><p>Process description</p></li></ul> <p>​        NA</p> <ul><li><p>Interface definition</p> <ul><li>Interface Description</li></ul> <p>​        Query the asset management module for an asset information.</p> <p>​        method : cm_asset</p> <ul><li>Request example</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;chainId&quot;:4545， 
   &quot;assetId&quot;:45
}
</code></pre></div><ul><li>Request parameter description</li></ul> <table><thead><tr><th style="text-align:left">parameter</th> <th style="text-align:left">required</th> <th style="text-align:left">type</th> <th>description</th></tr></thead> <tbody><tr><td style="text-align:left">chainId</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Chain identification</td></tr> <tr><td style="text-align:left">assetId</td> <td style="text-align:left">true</td> <td style="text-align:left">int</td> <td>Asset id</td></tr></tbody></table> <ul><li><p>Return example</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>Unified RPC standard format

</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
        &quot;chainId&quot;: 152,
        &quot;assetId&quot;:85,
        &quot;symbol&quot;:&quot;NULS&quot;,
        &quot;assetName&quot;:&quot;NULS ASSET&quot;,
        &quot;initNumber&quot;:&quot;1000000000&quot;,
        &quot;decimalPlaces&quot;:8,
        &quot;address&quot;:&quot;NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp&quot;,
        &quot;txHash&quot;:&quot;xxxxxxxxxxxxx&quot;,
        &quot;createTime&quot;:125848
        }
</code></pre></div></li> <li><p>Return field description</p></li></ul> <table><thead><tr><th style="text-align:left">parameter</th> <th style="text-align:left">type</th> <th>description</th></tr></thead> <tbody><tr><td style="text-align:left">chainId</td> <td style="text-align:left">int</td> <td>Chain identification</td></tr> <tr><td style="text-align:left">symbol</td> <td style="text-align:left">string</td> <td>Asset symbol</td></tr> <tr><td style="text-align:left">assetName</td> <td style="text-align:left">string</td> <td>Asset Name</td></tr> <tr><td style="text-align:left">initNumber</td> <td style="text-align:left">string</td> <td>Initial value of assets</td></tr> <tr><td style="text-align:left">decimalPlaces</td> <td style="text-align:left">int</td> <td>Minimum asset separable digits</td></tr> <tr><td style="text-align:left">address</td> <td style="text-align:left">string</td> <td>Create the primary network address of the chain</td></tr> <tr><td style="text-align:left">txHash</td> <td style="text-align:left">string</td> <td>Transaction hash</td></tr> <tr><td style="text-align:left">createTime</td> <td style="text-align:left">long</td> <td>Creation time</td></tr></tbody></table></li> <li><p>Dependent service</p> <p>NA</p></li></ul> <h2 id="_3、event-description"><a href="#_3、event-description" aria-hidden="true" class="header-anchor">#</a> 3、Event description</h2> <ul><li>Chain registration event</li> <li>Chain logout event</li> <li>New asset event</li> <li>Logout asset event</li></ul> <h2 id="_4、protocol"><a href="#_4、protocol" aria-hidden="true" class="header-anchor">#</a> 4、protocol</h2> <h3 id="_4-1-network-communication-protocol"><a href="#_4-1-network-communication-protocol" aria-hidden="true" class="header-anchor">#</a> 4.1 Network communication protocol</h3> <h4 id="_4-1-1-asking-the-friend-chain-for-the-total-amount-of-assets-issued"><a href="#_4-1-1-asking-the-friend-chain-for-the-total-amount-of-assets-issued" aria-hidden="true" class="header-anchor">#</a> 4.1.1 Asking the friend chain for the total amount of assets issued</h4> <ul><li>Message description: Periodic chain management initiates the issue of total asset data request message to the friend chain</li> <li>cmd：requestAssetAmount</li></ul> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>2</td> <td>chainId</td> <td>uint16</td> <td>Chain Id</td></tr> <tr><td>2</td> <td>assetId</td> <td>uint16</td> <td>Asset id</td></tr> <tr><td>4</td> <td>randomCode</td> <td>uint32</td> <td>random number</td></tr></tbody></table> <h4 id="_4-1-1-receive-the-total-amount-of-assets-returned-by-the-friend-chain"><a href="#_4-1-1-receive-the-total-amount-of-assets-returned-by-the-friend-chain" aria-hidden="true" class="header-anchor">#</a> 4.1.1 Receive the total amount of assets returned by the friend chain</h4> <ul><li>Message Description: Received a reply from the friend chain to the asset.</li> <li>cmd：responseAssetAmount</li></ul> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>2</td> <td>chainId</td> <td>uint16</td> <td>Chain Id</td></tr> <tr><td>2</td> <td>assetId</td> <td>uint16</td> <td>Asset id</td></tr> <tr><td>48</td> <td></td> <td>biginteger</td> <td>Total assets amount</td></tr> <tr><td>4</td> <td>randomCode</td> <td>uint32</td> <td>random number</td></tr></tbody></table> <h3 id="_4-2-transaction-agreement"><a href="#_4-2-transaction-agreement" aria-hidden="true" class="header-anchor">#</a> 4.2 Transaction agreement</h3> <h5 id="_4-2-1-sign-up-for-a-new-friend-chain"><a href="#_4-2-1-sign-up-for-a-new-friend-chain" aria-hidden="true" class="header-anchor">#</a> 4.2.1 Sign up for a new friend chain</h5> <p>Compared with the general transaction, only the type and txData are different, the specific difference is as follows</p> <p>Transaction type definition：10101</p> <p>txData definition</p> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>2</td> <td>chainId</td> <td>uint16</td> <td>Chain ID</td></tr> <tr><td>？</td> <td>name</td> <td>byte[]</td> <td>Chain Name</td></tr> <tr><td>1</td> <td>addressType</td> <td>uint8</td> <td>address type</td></tr> <tr><td>4</td> <td>magicNumber</td> <td>uint32</td> <td>Magic parameter</td></tr> <tr><td>1</td> <td>supportInflowAsset</td> <td>uint8</td> <td>Whether to spend asset inflows</td></tr> <tr><td>2</td> <td>minAvailableNodeNum</td> <td>uint16</td> <td>Minimum number of available nodes</td></tr> <tr><td>2</td> <td>singleNodeMinConnectionNum</td> <td>uint16</td> <td>Single node minimum connection number</td></tr> <tr><td>？</td> <td>address</td> <td>byte[]</td> <td>Account address</td></tr> <tr><td>2</td> <td>assetId</td> <td>uint16</td> <td>Asset id</td></tr> <tr><td>？</td> <td>symbol</td> <td>byte[]</td> <td>symbol</td></tr> <tr><td>？</td> <td>assetName</td> <td>byte[]</td> <td>Asset name</td></tr> <tr><td>2</td> <td>depositNuls</td> <td>uint16</td> <td>Mortgage NULS quantity</td></tr> <tr><td>48</td> <td>initNumber</td> <td>Biginteger</td> <td>Initial quantity of assets</td></tr> <tr><td>1</td> <td>decimalPlaces</td> <td>uint8</td> <td>Minimum number of assets</td></tr></tbody></table> <h5 id="_4-2-2-log-out-of-existing-friends"><a href="#_4-2-2-log-out-of-existing-friends" aria-hidden="true" class="header-anchor">#</a> 4.2.2  Log out of existing friends</h5> <p>Compared with the general transaction, only the type and txData are different, the specific difference is as follows</p> <p>Transaction type definition：10102</p> <p>txData definition：Same as 4.2.1 chain registration transaction</p> <h5 id="_4-2-3-new-friend-chain-assets"><a href="#_4-2-3-new-friend-chain-assets" aria-hidden="true" class="header-anchor">#</a> 4.2.3 New friend chain assets</h5> <p>Compared with the general transaction, only the type and txData are different, the specific difference is as follows</p> <p>Transaction type definition：10103</p> <p>txData definition：</p> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>2</td> <td>chainId</td> <td>uint16</td> <td>Chain Id</td></tr> <tr><td>2</td> <td>assetId</td> <td>uint16</td> <td>Asset id</td></tr> <tr><td>？</td> <td>symbol</td> <td>byte[]</td> <td>symbol</td></tr> <tr><td>？</td> <td>assetName</td> <td>byte[]</td> <td>Asset name</td></tr> <tr><td>2</td> <td>depositNuls</td> <td>uint16</td> <td>Mortgage NULS quantity</td></tr> <tr><td>48</td> <td>initNumber</td> <td>Biginteger</td> <td>Initial quantity of assets</td></tr> <tr><td>1</td> <td>decimalPlaces</td> <td>uint8</td> <td>Minimum number of assets</td></tr> <tr><td>？</td> <td>address</td> <td>byte[]</td> <td>Account address</td></tr></tbody></table> <h5 id="_4-2-2-log-out-of-existing-assets"><a href="#_4-2-2-log-out-of-existing-assets" aria-hidden="true" class="header-anchor">#</a> 4.2.2  Log out of existing assets</h5> <p>Compared with the general transaction, only the type and txData are different, the specific difference is as follows</p> <p>Transaction type definition：10104</p> <p>txData definition：New transactions with 4.2.3 assets</p> <h2 id="_5、module-configuration"><a href="#_5、module-configuration" aria-hidden="true" class="header-anchor">#</a> 5、Module configuration</h2> <div class="language- extra-class"><pre class="language-text"><code>[system]
language = en
encoding = UTF-8

[db]
rocksdb.datapath = ../data

[param]
asset_symbol_max = 5
asset_name_max = 20
asset_depositNuls = 200000
asset_depositNuls_destroy_rate = 0.2
asset_depositNuls_lock_rate = 0.8
asset_initNumber_min = 10000
asset_initNumber_max = 100000000
asset_decimalPlaces_min = 4
asset_decimalPlaces_max = 8
asset_recovery_rate = 0.9

[defaultAsset]
nuls_chain_id = 8964
nuls_chain_name = nuls chain
nuls_asset_id = 1
nuls_asset_initNumber_max = 100000000
nuls_asset_symbol = NULS
</code></pre></div><h2 id="_6、java-specific-design"><a href="#_6、java-specific-design" aria-hidden="true" class="header-anchor">#</a> 6、Java-specific design</h2> <p>NA</p> <h2 id="_7、to-add-on"><a href="#_7、to-add-on" aria-hidden="true" class="header-anchor">#</a> 7、to add on</h2> <p>NA</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/nuls-io/devsite/edit/dev/docs/NULS2.0/alpha/chainModuleDesign.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">3/28/2019, 12:38:23 AM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.af924067.js" defer></script><script src="/assets/js/34.74e27ef0.js" defer></script>
  </body>
</html>
