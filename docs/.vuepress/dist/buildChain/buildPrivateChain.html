<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>How to build a private chain based on NULS | NULS</title>
    <meta name="description" content="NULS">
    
    
    <link rel="preload" href="/assets/css/0.styles.e4f4c31f.css" as="style"><link rel="preload" href="/assets/js/app.a22ec7d7.js" as="script"><link rel="preload" href="/assets/js/35.494fa2be.js" as="script"><link rel="prefetch" href="/assets/js/10.74e2c17d.js"><link rel="prefetch" href="/assets/js/11.4f7fa307.js"><link rel="prefetch" href="/assets/js/12.03d27bd6.js"><link rel="prefetch" href="/assets/js/13.e407f4bb.js"><link rel="prefetch" href="/assets/js/14.29a73e0d.js"><link rel="prefetch" href="/assets/js/15.12980442.js"><link rel="prefetch" href="/assets/js/16.6fb58e9f.js"><link rel="prefetch" href="/assets/js/17.12b0b65c.js"><link rel="prefetch" href="/assets/js/18.ef8a3f7f.js"><link rel="prefetch" href="/assets/js/19.75c38d33.js"><link rel="prefetch" href="/assets/js/20.d78122c0.js"><link rel="prefetch" href="/assets/js/21.32857727.js"><link rel="prefetch" href="/assets/js/22.c21dbed1.js"><link rel="prefetch" href="/assets/js/23.a81bb94d.js"><link rel="prefetch" href="/assets/js/24.02649ec3.js"><link rel="prefetch" href="/assets/js/25.f10130fb.js"><link rel="prefetch" href="/assets/js/26.c0d41e09.js"><link rel="prefetch" href="/assets/js/27.60a0d6a1.js"><link rel="prefetch" href="/assets/js/28.0adb14e7.js"><link rel="prefetch" href="/assets/js/29.9cec7237.js"><link rel="prefetch" href="/assets/js/3.d2acb6a3.js"><link rel="prefetch" href="/assets/js/30.d68bbdb0.js"><link rel="prefetch" href="/assets/js/31.dcf88b81.js"><link rel="prefetch" href="/assets/js/32.cf8542a3.js"><link rel="prefetch" href="/assets/js/33.3fc7a331.js"><link rel="prefetch" href="/assets/js/34.cba6b9c8.js"><link rel="prefetch" href="/assets/js/36.c3ab37a4.js"><link rel="prefetch" href="/assets/js/37.e0788960.js"><link rel="prefetch" href="/assets/js/38.9a48ef21.js"><link rel="prefetch" href="/assets/js/39.e6668e35.js"><link rel="prefetch" href="/assets/js/4.38f6b44d.js"><link rel="prefetch" href="/assets/js/40.6307c937.js"><link rel="prefetch" href="/assets/js/41.f7a113ed.js"><link rel="prefetch" href="/assets/js/42.34dd4254.js"><link rel="prefetch" href="/assets/js/43.bdabefb4.js"><link rel="prefetch" href="/assets/js/44.a831de78.js"><link rel="prefetch" href="/assets/js/45.b78342c8.js"><link rel="prefetch" href="/assets/js/46.771b0e34.js"><link rel="prefetch" href="/assets/js/47.369e4ef1.js"><link rel="prefetch" href="/assets/js/48.4bb8b947.js"><link rel="prefetch" href="/assets/js/49.48c4fd4a.js"><link rel="prefetch" href="/assets/js/5.1bd5ef5e.js"><link rel="prefetch" href="/assets/js/50.56f075fb.js"><link rel="prefetch" href="/assets/js/51.dae25c4d.js"><link rel="prefetch" href="/assets/js/52.9e4bbc29.js"><link rel="prefetch" href="/assets/js/53.7db30b4d.js"><link rel="prefetch" href="/assets/js/54.15d189c5.js"><link rel="prefetch" href="/assets/js/55.5afc4da7.js"><link rel="prefetch" href="/assets/js/56.62dc5cc0.js"><link rel="prefetch" href="/assets/js/57.3909c900.js"><link rel="prefetch" href="/assets/js/58.431966d2.js"><link rel="prefetch" href="/assets/js/59.a125ac7f.js"><link rel="prefetch" href="/assets/js/6.af3065c2.js"><link rel="prefetch" href="/assets/js/60.e35ab80a.js"><link rel="prefetch" href="/assets/js/61.bda180cc.js"><link rel="prefetch" href="/assets/js/62.d9fb101c.js"><link rel="prefetch" href="/assets/js/63.296c0190.js"><link rel="prefetch" href="/assets/js/64.5bc15caf.js"><link rel="prefetch" href="/assets/js/65.93ccf818.js"><link rel="prefetch" href="/assets/js/66.48d53328.js"><link rel="prefetch" href="/assets/js/67.fcb548e5.js"><link rel="prefetch" href="/assets/js/68.f03e37a5.js"><link rel="prefetch" href="/assets/js/69.49b218e1.js"><link rel="prefetch" href="/assets/js/7.f2ea7c13.js"><link rel="prefetch" href="/assets/js/70.57c0fd61.js"><link rel="prefetch" href="/assets/js/71.3fb0077a.js"><link rel="prefetch" href="/assets/js/72.78c314bd.js"><link rel="prefetch" href="/assets/js/73.c4e49878.js"><link rel="prefetch" href="/assets/js/74.db283428.js"><link rel="prefetch" href="/assets/js/75.772f3f5f.js"><link rel="prefetch" href="/assets/js/76.7d220a79.js"><link rel="prefetch" href="/assets/js/77.02bebb23.js"><link rel="prefetch" href="/assets/js/78.0fa6a6e6.js"><link rel="prefetch" href="/assets/js/79.b8638d8d.js"><link rel="prefetch" href="/assets/js/8.0c614372.js"><link rel="prefetch" href="/assets/js/80.c5c125e0.js"><link rel="prefetch" href="/assets/js/81.d763c351.js"><link rel="prefetch" href="/assets/js/82.32342395.js"><link rel="prefetch" href="/assets/js/83.91cd2f41.js"><link rel="prefetch" href="/assets/js/84.fe83947a.js"><link rel="prefetch" href="/assets/js/85.952d0dc9.js"><link rel="prefetch" href="/assets/js/86.8908ae63.js"><link rel="prefetch" href="/assets/js/87.4ef79520.js"><link rel="prefetch" href="/assets/js/88.628f6d6d.js"><link rel="prefetch" href="/assets/js/89.f0d1d7cf.js"><link rel="prefetch" href="/assets/js/9.70325410.js"><link rel="prefetch" href="/assets/js/90.9f8cff5b.js"><link rel="prefetch" href="/assets/js/91.12f24a21.js"><link rel="prefetch" href="/assets/js/92.2b594ff6.js"><link rel="prefetch" href="/assets/js/93.fffd120d.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.2192dbe7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4f4c31f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">NULS</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/buildChain/buildPrivateChain.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/buildChain/buildPrivateChain.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/buildChain/buildPrivateChain.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/buildChain/buildPrivateChain.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Overview</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Users Guide</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Community</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Launch NULS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Quickly Building A Chain</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/buildChain/buildPrivateChain.html" class="active sidebar-link">How to build a private chain based on NULS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/buildChain/buildPrivateChain.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/buildChain/buildPrivateChain.html#setting-up-environment" class="sidebar-link">Setting up environment</a></li><li class="sidebar-sub-header"><a href="/buildChain/buildPrivateChain.html#beginning" class="sidebar-link">Beginning</a></li><li class="sidebar-sub-header"><a href="/buildChain/buildPrivateChain.html#development-environment" class="sidebar-link">Development environment</a></li><li class="sidebar-sub-header"><a href="/buildChain/buildPrivateChain.html#steps-to-build" class="sidebar-link">Steps to build</a></li><li class="sidebar-sub-header"><a href="/buildChain/buildPrivateChain.html#conclusion" class="sidebar-link">Conclusion</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Underlying Design Of NULS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Smart Contracts</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Developer Tools</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>NIPs</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>NULS Portal</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="how-to-build-a-private-chain-based-on-nuls"><a href="#how-to-build-a-private-chain-based-on-nuls" aria-hidden="true" class="header-anchor">#</a> How to build a private chain based on NULS</h1> <h2 id="introduction"><a href="#introduction" aria-hidden="true" class="header-anchor">#</a> Introduction</h2> <p>This tutorial guides you to build a private chain based on NULS source code, to make is easier for users to learn about the operation, development or experiment of the NULS Blockchain. By building a chain to fully understand the operation of each node and data interaction, we can better grasp the overall operating mechanism of the NULS Blockchain, which is conducive to further research. We assume that readers have the skills to set up and debug a Java development environment.</p> <h2 id="setting-up-environment"><a href="#setting-up-environment" aria-hidden="true" class="header-anchor">#</a> Setting up environment</h2> <ul><li>Operating systems: macOS, Windows</li> <li>Build Tools: Maven</li> <li>Development Tools: IntelliJ IDEA</li> <li>NULS source code on github: https://github.com/nuls-io/nuls</li></ul> <h2 id="beginning"><a href="#beginning" aria-hidden="true" class="header-anchor">#</a> Beginning</h2> <p>Since blockchain is a decentralized network composed of multiple nodes, we will take a private chain with three nodes as an example. Although we recommend using a Linux server to run the NULS main-net consensus node, in this tutorial, we choose macOS system that can set up a Java development environment to run and debug nodes.</p> <h2 id="development-environment"><a href="#development-environment" aria-hidden="true" class="header-anchor">#</a> Development environment</h2> <p>First, clone the NULS source code using IntelliJ IDEA and open the project. Make sure JDK is the jdk1.8 version and Maven is configured correctly.</p> <h2 id="steps-to-build"><a href="#steps-to-build" aria-hidden="true" class="header-anchor">#</a> Steps to build</h2> <ol><li>Open the module.ini file, which is the configuration file for joining or building the network. In this tutorial, it is the configuration information of the NULS test-net.</li></ol> <p><img src="/assets/img/image-20190103193901967.35788ccc.png" alt="image-20190103193901967"></p> <ol start="2"><li>We will use three nodes to build a private chain. First we need to prepare devices (virtual machine works) for three nodes to run.</li></ol> <ul><li>Node A: 192.168.1.1</li> <li>Node B: 192.168.1.2</li> <li>Node C: 192.168.1.3</li></ul> <p>We also need to set up a seed node to maintain the operation of the blockchain, i.e., to package and forge blocks. In addition, we need to prepare a block-forging address (including private key, to import into the seed node), which can be prepared in advance.</p> <p>In this tutorial, the initial block-forging address we prepare is:
<code>Nse4zpZHsUuU7h5ymv28pcGbwHju3joV</code></p> <p>PS: You may find that the first few letters of the address we prepare differs from those of the test-net address in the figure, which is for the sake of distinguishing the test-net address from the main-net address, so as to avoid confusion that may result in adverse consequences. Specifically, we set the test-net address to start with &quot;TT&quot; and the main-net address to start with &quot;Ns&quot;. This tutorial uses the NULS main-branch code, so the address starts with &quot;Ns&quot;. If you prefer to custom the starting letters of the private-chain account address, you can try to modify the <code>chain.id</code> parameter in the nuls.ini file. The parameters of the same chain must be in consistence.</p> <ol start="3"><li>Assuming node A is the seed node, then modify the network and consensus sections of the module.ini configuration file of three nodes A, B and C according to the following configuration:</li></ol> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token selector">[network]</span>
<span class="token constant">Bootstrap</span><span class="token attr-value"><span class="token punctuation">=</span>io.nuls.network.netty.module.impl.NettyNetworkModuleBootstrap</span>
<span class="token constant">Network.server.port</span><span class="token attr-value"><span class="token punctuation">=</span>8003</span>
<span class="token constant">Network.magic</span><span class="token attr-value"><span class="token punctuation">=</span>20190101</span>
<span class="token constant">Network.max.in</span><span class="token attr-value"><span class="token punctuation">=</span>100</span>
<span class="token constant">Network.max.out</span><span class="token attr-value"><span class="token punctuation">=</span>10</span>
<span class="token constant">Network.seed.ip</span><span class="token attr-value"><span class="token punctuation">=</span>192.168.1.1:8003</span>

<span class="token selector">[consensus]</span>
<span class="token constant">Bootstrap</span><span class="token attr-value"><span class="token punctuation">=</span>io.nuls.consensus.poc.module.impl.PocConsensusModuleBootstrap</span>
<span class="token constant">Partake.packing</span><span class="token attr-value"><span class="token punctuation">=</span>true</span>
<span class="token constant">Min.upgrade.delay</span><span class="token attr-value"><span class="token punctuation">=</span>1000</span>
<span class="token constant">Seed.nodes</span><span class="token attr-value"><span class="token punctuation">=</span>Nse4zpZHsUuU7h5ymv28pcGbwHju3joV</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>Modify <code>work.seed.ip</code> to the ip and port of the seed node.</li> <li>Modify <code>seed.nodes</code> to the block-forging address.</li> <li>The consistency of the magic parameters <code>network.magic</code> of all nodes in the private chain is a must.</li></ul> <ol start="4"><li>Run the three nodes separately through IntelliJ IDEA. If you only need to debug one node, the other two nodes can be packaged with maven and sent to a Linux server to run. Remarkably, a jre must be placed in the NULS root directory to run properly.</li> <li>After launching the three nodes, once the IntelliJ IDEA console has the following log output, it means that the three nodes have successfully formed a private chain network, but it still cannot produce new blocks and the block height is 0. If there is no log output, you need to uncomment the <code>&lt;appender-ref ref=&quot;STDOUT&quot;/&gt;</code> in logback.xml.</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>io.nuls.client.Bootstrap.sysStart(Bootstrap.java:156):bestHeight:0 , txCount : 1 io.nuls.client.Bootstrap.sysStart(Bootstrap.java:174):height:0,count:2, hash :xxxxxxx,192.168.1.2:8003,192.168.1.2:8003

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="6"><li>Then import the prepared block-forging account <code>Nse4zpZHsUuU7h5ymv28pcGbwHju3joV</code> via wallet interface of the seed node A. After a while, you can see the latest height displayed in the console increasing, which indicates that the network is producing new blocks. At the same time, the height of the node B, C will also increase and the height of the three nodes will remain the same. At this point, the setup of the private chain network is completed.</li></ol> <h2 id="conclusion"><a href="#conclusion" aria-hidden="true" class="header-anchor">#</a> Conclusion</h2> <p>This tutorial mainly introduces the easiest way to build a private chain for the development and debugging of NULS, without modification on the source code of NULS. If you want to dig deeper into NULS, you can refer to the relevant documentation of NULS to modify and debug the source code. Maybe you will find more secrets!</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/nuls-io/devsite/edit/dev/docs/buildChain/buildPrivateChain.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">1/9/2019, 4:46:46 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/startNULS/connectTestnet.html" class="prev">
          How to connect wallet to NULS test-net
        </a></span> <span class="next"><a href="/NULSInfrastructure/NULS2.0Introduction.html">
          NULS 2.0 Introduction
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.a22ec7d7.js" defer></script><script src="/assets/js/35.494fa2be.js" defer></script>
  </body>
</html>
