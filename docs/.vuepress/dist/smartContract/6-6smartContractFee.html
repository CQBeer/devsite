<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Service charge for smart contracts | NULS</title>
    <meta name="description" content="Vue-powered Static Site Generator">
    
    
    <link rel="preload" href="/assets/css/0.styles.87801eb7.css" as="style"><link rel="preload" href="/assets/js/app.f0dccc53.js" as="script"><link rel="preload" href="/assets/js/27.cfbac0d6.js" as="script"><link rel="prefetch" href="/assets/js/10.adcd50a2.js"><link rel="prefetch" href="/assets/js/11.23d51952.js"><link rel="prefetch" href="/assets/js/12.af362357.js"><link rel="prefetch" href="/assets/js/13.dbd5dd27.js"><link rel="prefetch" href="/assets/js/14.99b27887.js"><link rel="prefetch" href="/assets/js/15.9ef74b8e.js"><link rel="prefetch" href="/assets/js/16.c4b77db3.js"><link rel="prefetch" href="/assets/js/17.0609f9c5.js"><link rel="prefetch" href="/assets/js/18.02adc72d.js"><link rel="prefetch" href="/assets/js/19.9330d6b9.js"><link rel="prefetch" href="/assets/js/20.3a4659f3.js"><link rel="prefetch" href="/assets/js/21.cbd71e03.js"><link rel="prefetch" href="/assets/js/22.67a0ccc5.js"><link rel="prefetch" href="/assets/js/23.7ccf57f3.js"><link rel="prefetch" href="/assets/js/24.7e9a6cf8.js"><link rel="prefetch" href="/assets/js/25.194a7f12.js"><link rel="prefetch" href="/assets/js/26.56055a2c.js"><link rel="prefetch" href="/assets/js/28.d743ddb4.js"><link rel="prefetch" href="/assets/js/29.bb1a211b.js"><link rel="prefetch" href="/assets/js/3.8bb86b43.js"><link rel="prefetch" href="/assets/js/30.0ddd2538.js"><link rel="prefetch" href="/assets/js/31.5084c548.js"><link rel="prefetch" href="/assets/js/32.ce771734.js"><link rel="prefetch" href="/assets/js/33.477d1b6a.js"><link rel="prefetch" href="/assets/js/34.db009c85.js"><link rel="prefetch" href="/assets/js/35.b54e24fc.js"><link rel="prefetch" href="/assets/js/36.4411e28a.js"><link rel="prefetch" href="/assets/js/37.57da6b86.js"><link rel="prefetch" href="/assets/js/38.ce577132.js"><link rel="prefetch" href="/assets/js/39.fc4fde25.js"><link rel="prefetch" href="/assets/js/4.bf89d940.js"><link rel="prefetch" href="/assets/js/40.398295c2.js"><link rel="prefetch" href="/assets/js/41.e31c613d.js"><link rel="prefetch" href="/assets/js/42.d22c3192.js"><link rel="prefetch" href="/assets/js/43.835f542d.js"><link rel="prefetch" href="/assets/js/44.6d93e433.js"><link rel="prefetch" href="/assets/js/45.3cae8b83.js"><link rel="prefetch" href="/assets/js/46.3b90a35c.js"><link rel="prefetch" href="/assets/js/47.efc0aebb.js"><link rel="prefetch" href="/assets/js/48.b7296e35.js"><link rel="prefetch" href="/assets/js/49.a8875200.js"><link rel="prefetch" href="/assets/js/5.1d69716f.js"><link rel="prefetch" href="/assets/js/50.bc8b6fb3.js"><link rel="prefetch" href="/assets/js/51.6ba74c7c.js"><link rel="prefetch" href="/assets/js/52.8ec9fddd.js"><link rel="prefetch" href="/assets/js/53.09b96d7b.js"><link rel="prefetch" href="/assets/js/54.997f79f4.js"><link rel="prefetch" href="/assets/js/55.035feb42.js"><link rel="prefetch" href="/assets/js/56.f01ed60e.js"><link rel="prefetch" href="/assets/js/57.116a8ebd.js"><link rel="prefetch" href="/assets/js/58.4c3fde67.js"><link rel="prefetch" href="/assets/js/59.a8838de6.js"><link rel="prefetch" href="/assets/js/6.e25ed6e1.js"><link rel="prefetch" href="/assets/js/60.fc0dbd0d.js"><link rel="prefetch" href="/assets/js/7.8c7722b5.js"><link rel="prefetch" href="/assets/js/8.0c2c887e.js"><link rel="prefetch" href="/assets/js/9.33c355d5.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f6d6e3fd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.87801eb7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">NULS</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smartContract/6-6smartContractFee.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/smartContract/6-6smartContractFee.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>1.Overview</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/overview/1-1introduction.html" class="sidebar-link">1.1.What is NULS1.2</a></li><li><a href="/overview/1-2structure.html" class="sidebar-link">1.2.The structure of this document</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2.How to contribute</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>3.How to start NULS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>4.Build a private chain</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>5.NULS infrastructure</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>6.Smart Contract</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>7.Developer tools</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>8.NULS navigation</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="service-charge-for-smart-contracts"><a href="#service-charge-for-smart-contracts" aria-hidden="true" class="header-anchor">#</a> Service charge for smart contracts</h2> <h3 id="_1-standards-of-service-charge-for-smart-contracts-how-is-the-service-fee-charged-how-much-does-it-cost-an-interface-invoker-who-will-receive-the-service-charge"><a href="#_1-standards-of-service-charge-for-smart-contracts-how-is-the-service-fee-charged-how-much-does-it-cost-an-interface-invoker-who-will-receive-the-service-charge" aria-hidden="true" class="header-anchor">#</a> 1. Standards of service charge for smart contracts: How is the service fee charged? How much does it cost an interface invoker? Who will receive the service charge?</h3> <blockquote><p><code>Background:</code> Since the NULS Main-Net uses the UTXO model, the transaction size is also used as one of the charging standards.</p></blockquote> <p>In the main-net, there are now three more types of transactions: <code>creating a smart contract</code>, <code>invoking a smart contract</code>, <code>deleting a smart contract</code></p> <p>The difference between those three transactions and other transactions such as <code>transfer</code> is that the execution of smart contracts will be added. So, execution of smart contracts will also be applied to the charging standards.</p> <ul><li>Calculation of smart contract service charge</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> COMPARISON <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> <span class="token comment">//Compare bytecode </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> CONSTANT <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> <span class="token comment">//Simple numeric type bytecode </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LDC <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> <span class="token comment">//Numeric constant, string constant (length * LDC) </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> CONTROL <span class="token operator">=</span> <span class="token punctuation">.</span> <span class="token number">5</span> <span class="token punctuation">;</span> <span class="token comment">//Control bytecode </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TABLESWITCH <span class="token operator">=</span> <span class="token number">2</span> <span class="token punctuation">;</span> <span class="token comment">//Switch bytecode (size * TABLESWITCH) </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LOOKUPSWITCH <span class="token operator">=</span> <span class="token number">2</span> <span class="token punctuation">;</span> <span class="token comment">//Switch bytecode (size * LOOKUPSWITCH) </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> CONVERSION <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> <span class="token comment">//Value conversion </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> EXTENDED <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> <span class="token comment">//Null determine </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> MULTIANEWARRAY <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> <span class="token comment">//Multidimensional Array (size * MULTIANEWARRAY) </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> LOAD <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> <span class="token operator">/</span> <span class="token operator">/</span>Send the local variable to the top of the stack 
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> ARRAYLOAD <span class="token operator">=</span> <span class="token number">5</span> <span class="token punctuation">;</span> <span class="token operator">/</span> <span class="token operator">/</span>Send an item of the array to the top of the stack
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> MATH <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> <span class="token comment">//Mathematical operations and shift operations </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> REFERENCE <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">;</span> <span class="token comment">//Object related operations </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> NEWARRAY <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> <span class="token comment">//One-dimensional array (size * NEWARRAY) </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> STACK <span class="token operator">=</span> <span class="token number">2</span> <span class="token punctuation">;</span> <span class="token comment">//Stack operation </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> STORE <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> <span class="token comment">// Save the value in the top of the stack to a local variable </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> ARRAYSTORE <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Save the value of the stack to an array </span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> TRANSFER <span class="token operator">=</span> <span class="token number">1000</span> <span class="token punctuation">;</span> <span class="token comment">//Transfer transaction</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li>Total service charge for invoking a smart contract
The total service charge for a contract transaction consists of three parts</li></ul> <ul><li><p>The first part is the transaction fee based on the transaction size, calculated according to the byte size -&gt; 0.001NULS/KB, which is 0.001 NULS per 1000 bytes. If the transaction size is less than 1000 bytes, the transaction fee is set as 0.001 NULS.</p></li> <li><p>The second part is the ‘Gas*Price’ consumed by executing the contract. The ‘Price’ is the unit cost, which means how much ‘Na’ there is for each Gas. ‘Na’ is the smallest unit of NULS, and 1 NULS = 100 million Na.</p></li></ul> <blockquote><p>For example, if executing a contract consumes 20,000 Gas and the set Price is 20 Na/Gas, then the Na consumed this time would be 20,000 * 20 = 400,000 Na, which is 0.004 NULS.</p></blockquote> <ul><li>The third part refers to the remaining part of the GasLimit. GasLimit is set by the contract invoker. If it is not fully consumed by executing the current contract, the remaining Gas will be returned as the consensus reward.</li></ul> <blockquote><p>Still using the previous example, if the GasLimit set for the contract is 30,000 Gas and executing the contract consumes 20,000 Gas, then 10,000 Gas will be left. The 10,000 Gas has: 10,000 * 20 = 200,000 Na, which is 0.002 NULS. This will be returned to the contract invoker in the CoinBase transaction (consensus reward) of the current packing block.</p></blockquote> <ul><li>How much does a contract invoker pay?</li></ul> <p>To start the contract transaction, the contract invoker pays the first, second and third part. In practical, the third part will be returned to the contract invoker in the CoinBase transaction (consensus reward) of the current packing block.</p> <ul><li>Who receives the service charge?</li></ul> <blockquote><p><code>Precondition:</code>This part of the cost is reflected in the CoinBase transaction (consensus reward) of the block.</p></blockquote> <p>The block packer receives the first and second parts of the service charge, and the contract invoker receives the third part.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/nuls-io/devsite/edit/dev/docs/smartContract/6-6smartContractFee.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">12/18/2018, 5:50:50 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.f0dccc53.js" defer></script><script src="/assets/js/27.cfbac0d6.js" defer></script>
  </body>
</html>
